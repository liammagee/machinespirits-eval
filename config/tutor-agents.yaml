# Local Tutor Agent Configuration (Eval Repo Override)
#
# This file overrides tutor-core's tutor-agents.yaml for evaluation purposes.
# Model aliases (e.g. "sonnet", "nemotron") are resolved through providers.yaml.
#
# ============================================================================
# 2×2×2 FACTORIAL EVALUATION DESIGN
# ============================================================================
#
# Three independent variables, each with two levels:
#
#   Factor A: Recognition    — standard prompts vs recognition-enhanced prompts
#   Factor B: Architecture   — single agent (ego only) vs multi-agent (ego + superego)
#   Factor C: Model Tier     — free (nemotron) vs paid (sonnet)
#
# Design Matrix (8 conditions):
#
#   ┌────────────────────┬──────────────────────────┬──────────────────────────┐
#   │                    │     Free (nemotron)       │     Paid (sonnet)        │
#   ├────────────────────┼──────────────┬───────────┼──────────────┬───────────┤
#   │                    │ Single Agent │ Ego+Super │ Single Agent │ Ego+Super │
#   ├────────────────────┼──────────────┼───────────┼──────────────┼───────────┤
#   │ No Recognition     │ single_      │ baseline  │ single_      │ baseline_ │
#   │                    │ baseline     │           │ baseline_    │ paid      │
#   │                    │              │           │ paid         │           │
#   ├────────────────────┼──────────────┼───────────┼──────────────┼───────────┤
#   │ Recognition        │ single_      │ recogni-  │ single_      │ recogni-  │
#   │                    │ recognition  │ tion      │ recognition_ │ tion_     │
#   │                    │              │           │ paid         │ paid      │
#   └────────────────────┴──────────────┴───────────┴──────────────┴───────────┘
#
# This allows analyzing:
#   - Main effect of recognition (standard vs recognition-enhanced prompts)
#   - Main effect of architecture (single agent vs ego + superego dialogue)
#   - Main effect of model quality (free vs paid tier)
#   - All two-way and three-way interactions
#
# ============================================================================

active_profile: budget

profiles:
  # ===========================================================================
  # DEVELOPMENT PROFILE (not part of factorial design)
  # ===========================================================================

  budget:
    description: "Budget-friendly single agent - DeepSeek (free) via OpenRouter, no dialogue"
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: deepseek
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.7
        max_tokens: 1500
    superego: null

  # ===========================================================================
  # FACTORIAL CELL 1: No Recognition × Single Agent × Free
  # ===========================================================================
  single_baseline:
    description: "Single agent, standard prompts, free model (nemotron)"
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 3500
    superego: null

  # ===========================================================================
  # FACTORIAL CELL 2: No Recognition × Single Agent × Paid
  # ===========================================================================
  single_baseline_paid:
    description: "Single agent, standard prompts, paid model (sonnet)"
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: kimi-k2.5
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 2500
    superego: null

  # ===========================================================================
  # FACTORIAL CELL 3: No Recognition × Ego+Superego × Free
  # ===========================================================================
  baseline:
    description: "Ego+superego dialogue, standard prompts, free model (nemotron)"
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 3500
    superego:
      provider: openrouter
      model: nemotron
      staging: back
      prompt_file: tutor-superego.md
      hyperparameters:
        temperature: 0.4
        max_tokens: 3500

  # ===========================================================================
  # FACTORIAL CELL 4: No Recognition × Ego+Superego × Paid
  # ===========================================================================
  baseline_paid:
    description: "Ego+superego dialogue, standard prompts, paid model (sonnet)"
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: kimi-k2.5
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 2500
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego.md
      hyperparameters:
        temperature: 0.4
        max_tokens: 2500

  # ===========================================================================
  # FACTORIAL CELL 5: Recognition × Single Agent × Free
  # ===========================================================================
  single_recognition:
    description: "Single agent, recognition prompts + memory, free model (nemotron)"
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 3500
    superego: null

  # ===========================================================================
  # FACTORIAL CELL 6: Recognition × Single Agent × Paid
  # ===========================================================================
  single_recognition_paid:
    description: "Single agent, recognition prompts + memory, paid model (sonnet)"
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: kimi-k2.5
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 2500
    superego: null

  # ===========================================================================
  # FACTORIAL CELL 7: Recognition × Ego+Superego × Free
  # ===========================================================================
  recognition:
    description: "Ego+superego dialogue, recognition prompts + memory, free model (nemotron)"
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 3500
    superego:
      provider: openrouter
      model: nemotron
      staging: back
      prompt_file: tutor-superego-recognition.md
      hyperparameters:
        temperature: 0.4
        max_tokens: 3500
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # ===========================================================================
  # FACTORIAL CELL 8: Recognition × Ego+Superego × Paid
  # ===========================================================================
  recognition_paid:
    description: "Ego+superego dialogue, recognition prompts + memory, paid model (sonnet)"
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: kimi-k2.5
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 2500
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-recognition.md
      hyperparameters:
        temperature: 0.4
        max_tokens: 2500
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true
