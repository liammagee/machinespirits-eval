# Local Tutor Agent Configuration (Eval Repo Override)
#
# This file overrides tutor-core's tutor-agents.yaml for evaluation purposes.
# Model aliases (e.g. "sonnet", "nemotron") are resolved through providers.yaml.
#
# ============================================================================
# MODEL OVERRIDES (optional)
# ============================================================================
# These override ALL profile models when uncommented. Useful for quick testing.
# CLI flags (--model, --ego-model, --superego-model) take precedence over these.
#
# model_override: openrouter.haiku        # Override ALL models (ego + superego)
# ego_model_override: openrouter.nemotron # Override only ego model
# superego_model_override: openrouter.kimi-k2.5  # Override only superego model
#
# ============================================================================
# FACTORIAL EVALUATION DESIGN
# ============================================================================
#
# Three independent variables:
#
#   Factor A: Prompt Type          — base / enhanced / recognition (3 levels)
#   Factor B: Tutor Architecture   — single ego vs ego+superego dialogue (2 levels)
#   Factor C: Learner Architecture — unified vs ego_superego (2 levels)
#
# Factor A levels:
#   - base:        Original Claude-generated prompts (default LLM tutoring)
#   - enhanced:    Matches recognition specificity without recognition theory
#   - recognition: Full recognition-enhanced prompts with Hegelian theory
#   - hardwired:   Base + 5 superego-derived rules (no live superego) [ABLATION]
#
# This design enables isolating:
#   - Base vs Enhanced      = prompt engineering effect
#   - Enhanced vs Recognition = isolated recognition theory effect
#   - Base vs Recognition   = combined effect (original comparison)
#
# All cells use nemotron (free tier) to isolate architectural effects from model cost.
#
# Design Matrix (12 main cells + 2 ablation cells):
#
#   ┌────────────────────┬──────────────────────────┬──────────────────────────┐
#   │                    │   Unified Learner         │   Ego/Superego Learner   │
#   ├────────────────────┼──────────────┬───────────┼──────────────┬───────────┤
#   │                    │ Single Tutor │ E+S Tutor │ Single Tutor │ E+S Tutor │
#   ├────────────────────┼──────────────┼───────────┼──────────────┼───────────┤
#   │ Base               │ cell_1       │ cell_3    │ cell_2       │ cell_4    │
#   ├────────────────────┼──────────────┼───────────┼──────────────┼───────────┤
#   │ Enhanced           │ cell_9       │ cell_11   │ cell_10      │ cell_12   │
#   ├────────────────────┼──────────────┼───────────┼──────────────┼───────────┤
#   │ Recognition        │ cell_5       │ cell_7    │ cell_6       │ cell_8    │
#   └────────────────────┴──────────────┴───────────┴──────────────┴───────────┘
#
#   ABLATION (hardwired = superego rules in ego prompt, no live superego):
#   ┌────────────────────┬──────────────┬──────────────┐
#   │ Hardwired          │ cell_13      │ cell_14      │
#   └────────────────────┴──────────────┴──────────────┘
#
# Ablation comparisons:
#   - cell_1/2 vs cell_13/14 = Do hardwired rules improve single-agent?
#   - cell_3/4 vs cell_13/14 = Can hardwired rules replace live superego?
#
# This allows analyzing:
#   - Main effect of prompt type (base vs enhanced vs recognition)
#   - Main effect of tutor architecture (single agent vs ego + superego dialogue)
#   - Main effect of learner architecture (unified vs ego_superego)
#   - All two-way and three-way interactions
#   - Superego architecture ablation (rules vs dynamic dialogue)
#
# ============================================================================

active_profile: budget

profiles:
  # ===========================================================================
  # DEVELOPMENT PROFILE (not part of factorial design)
  # ===========================================================================

  budget:
    description: "Budget-friendly single agent - Nemotron (free) via OpenRouter, no dialogue"
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # ===========================================================================
  # 2×2×2 FACTORIAL CELLS (Recognition × Tutor Architecture × Learner Architecture)
  # ===========================================================================
  # These 8 profiles support the unified factorial evaluation pipeline.
  # Use: node scripts/eval-cli.js run --factorial --runs 3
  # All use nemotron (free tier) to isolate architectural effects from model cost.

  # Cell 1: Base × Single Agent × Unified Learner
  cell_1_base_single_unified:
    description: "Factorial cell 1: baseline single-agent tutor, unified learner"
    factors:
      prompt_type: base
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 2: Base × Single Agent × Ego/Superego Learner
  cell_2_base_single_psycho:
    description: "Factorial cell 2: baseline single-agent tutor, ego/superego learner"
    factors:
      prompt_type: base
      multi_agent_tutor: false
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 3: Base × Multi-Agent Tutor × Unified Learner
  cell_3_base_multi_unified:
    description: "Factorial cell 3: ego+superego tutor, unified learner"
    factors:
      prompt_type: base
      multi_agent_tutor: true
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 4: Base × Multi-Agent Tutor × Ego/Superego Learner
  cell_4_base_multi_psycho:
    description: "Factorial cell 4: ego+superego tutor, ego/superego learner"
    factors:
      prompt_type: base
      multi_agent_tutor: true
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 5: Recognition × Single Agent × Unified Learner
  cell_5_recog_single_unified:
    description: "Factorial cell 5: recognition single-agent tutor, unified learner"
    factors:
      prompt_type: recognition
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 6: Recognition × Single Agent × Ego/Superego Learner
  cell_6_recog_single_psycho:
    description: "Factorial cell 6: recognition single-agent tutor, ego/superego learner"
    factors:
      prompt_type: recognition
      multi_agent_tutor: false
      multi_agent_learner: true
    learner_architecture: ego_superego_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: kimi-k2.5
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 7: Recognition × Multi-Agent Tutor × Unified Learner
  cell_7_recog_multi_unified:
    description: "Factorial cell 7: recognition ego+superego tutor, unified learner"
    factors:
      prompt_type: recognition
      multi_agent_tutor: true
      multi_agent_learner: false
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-recognition.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 8: Recognition × Multi-Agent Tutor × Ego/Superego Learner
  cell_8_recog_multi_psycho:
    description: "Factorial cell 8: recognition ego+superego tutor, ego/superego learner"
    factors:
      prompt_type: recognition
      multi_agent_tutor: true
      multi_agent_learner: true
    learner_architecture: ego_superego_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: kimi-k2.5
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-recognition.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # ===========================================================================
  # ENHANCED CELLS (9-12): Better prompting WITHOUT recognition theory
  # ===========================================================================
  # These cells use tutor-ego-enhanced.md and tutor-superego-enhanced.md which
  # match the recognition prompts' specificity (8 rules, 10 examples, checklists)
  # but WITHOUT Hegelian recognition theory language.
  #
  # Comparing Enhanced vs Recognition isolates the recognition theory effect.
  # Comparing Base vs Enhanced isolates the prompt engineering effect.

  # Cell 9: Enhanced × Single Agent × Unified Learner
  cell_9_enhanced_single_unified:
    description: "Factorial cell 9: enhanced single-agent tutor, unified learner"
    factors:
      prompt_type: enhanced
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-enhanced.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 10: Enhanced × Single Agent × Ego/Superego Learner
  cell_10_enhanced_single_psycho:
    description: "Factorial cell 10: enhanced single-agent tutor, ego/superego learner"
    factors:
      prompt_type: enhanced
      multi_agent_tutor: false
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-enhanced.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 11: Enhanced × Multi-Agent Tutor × Unified Learner
  cell_11_enhanced_multi_unified:
    description: "Factorial cell 11: enhanced ego+superego tutor, unified learner"
    factors:
      prompt_type: enhanced
      multi_agent_tutor: true
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-enhanced.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-enhanced.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 12: Enhanced × Multi-Agent Tutor × Ego/Superego Learner
  cell_12_enhanced_multi_psycho:
    description: "Factorial cell 12: enhanced ego+superego tutor, ego/superego learner"
    factors:
      prompt_type: enhanced
      multi_agent_tutor: true
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.8
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-enhanced.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-enhanced.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # ===========================================================================
  # HARDWIRED CELLS (13-14): Superego-derived rules, NO live superego
  # ===========================================================================
  # These cells test whether the superego's value is in the rules it enforces
  # or in the dynamic dialogue itself.
  #
  # Uses tutor-ego-hardwired.md which embeds 5 rules derived from analyzing
  # 186 superego rejections (engagement, specificity, memory, level-matching,
  # absolute struggle stop).
  #
  # Comparison:
  #   cell_1/2 (base, no superego) vs cell_13/14 (hardwired, no superego)
  #     → Does hardwiring superego rules improve single-agent performance?
  #   cell_3/4 (base + superego) vs cell_13/14 (hardwired, no superego)
  #     → Can hardwired rules replace live superego dialogue?

  # Cell 13: Hardwired × Single Agent × Unified Learner
  cell_13_hardwired_single_unified:
    description: "Factorial cell 13: hardwired single-agent tutor (superego rules embedded), unified learner"
    factors:
      prompt_type: hardwired
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-hardwired.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 14: Hardwired × Single Agent × Ego/Superego Learner
  cell_14_hardwired_single_psycho:
    description: "Factorial cell 14: hardwired single-agent tutor (superego rules embedded), ego/superego learner"
    factors:
      prompt_type: hardwired
      multi_agent_tutor: false
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-hardwired.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # ===========================================================================
  # PLACEBO CELLS (15-18): Length-matched prompts WITHOUT recognition theory
  # ===========================================================================
  # These cells control for prompt length/complexity vs recognition theory content.
  # Placebo prompts match recognition prompt length but use only pedagogical
  # best practices without Hegelian concepts (mutual recognition, autonomous
  # subject, productive struggle as transformation).
  #
  # Comparison:
  #   cell_9/10 (enhanced) vs cell_15/16 (placebo) vs cell_5/6 (recognition)
  #     → Isolates recognition theory value from prompt length/complexity

  # Cell 15: Placebo × Single Agent × Unified Learner
  cell_15_placebo_single_unified:
    description: "Factorial cell 15: placebo single-agent tutor (length-matched, no recognition theory), unified learner"
    factors:
      prompt_type: placebo
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-placebo.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 16: Placebo × Single Agent × Ego/Superego Learner
  cell_16_placebo_single_psycho:
    description: "Factorial cell 16: placebo single-agent tutor (length-matched, no recognition theory), ego/superego learner"
    factors:
      prompt_type: placebo
      multi_agent_tutor: false
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-placebo.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 17: Placebo × Multi-Agent Tutor × Unified Learner
  cell_17_placebo_multi_unified:
    description: "Factorial cell 17: placebo ego+superego tutor (length-matched, no recognition theory), unified learner"
    factors:
      prompt_type: placebo
      multi_agent_tutor: true
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-placebo.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-placebo.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 18: Placebo × Multi-Agent Tutor × Ego/Superego Learner
  cell_18_placebo_multi_psycho:
    description: "Factorial cell 18: placebo ego+superego tutor (length-matched, no recognition theory), ego/superego learner"
    factors:
      prompt_type: placebo
      multi_agent_tutor: true
      multi_agent_learner: true
    learner_architecture: ego_superego
    recognition_mode: false
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-placebo.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-placebo.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # ===========================================================================
  # MEMORY CONFOUND ISOLATION CELLS (19-20)
  # ===========================================================================
  # 2×2 Memory × Recognition design (single-agent, unified learner held constant).
  # Reuses cell_1 (base) and cell_5 (full recognition) to complete the 2×2.
  #
  #              Memory OFF          Memory ON
  #  Recog OFF   cell_1 (exists)     cell_19 (NEW)
  #  Recog ON    cell_20 (NEW)       cell_5 (exists)

  # Cell 19: Memory-Only × Single Agent × Unified Learner
  cell_19_memory_single_unified:
    description: "Memory isolation: base + memory integration, no recognition theory"
    factors:
      prompt_type: memory
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-memory.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # Cell 20: Recognition-No-Memory × Single Agent × Unified Learner
  cell_20_recog_nomem_single_unified:
    description: "Memory isolation: recognition theory without memory integration"
    factors:
      prompt_type: recognition_nomem
      multi_agent_tutor: false
      multi_agent_learner: false
    learner_architecture: unified
    recognition_mode: true
    memory_enabled: false
    dialogue:
      enabled: false
      max_rounds: 0
    ego:
      provider: openrouter
      model: nemotron
      prompt_file: tutor-ego-recognition-nomem.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego: null

  # ===========================================================================
  # DYNAMIC PROMPT REWRITING CELL (21) - v2
  # ===========================================================================
  # Tests whether feeding deliberation insights back as directives
  # improves multi-turn tutoring outcomes. Compare against cell_7 (static).
  #
  # v2 improvements:
  # - LLM-based directive synthesis (uses superego model for rich context analysis)
  # - Writing Pad memory activated via learnerId threading
  # - Dialectical negotiation enabled (memory surfaces in prompts)

  cell_21_recog_multi_unified_rewrite:
    description: "Prompt rewriting v2: LLM directives + active Writing Pad"
    factors:
      prompt_type: recognition
      multi_agent_tutor: true
      multi_agent_learner: false
      dynamic_rewriting: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true        # Explicitly enable Writing Pad
    dialectical_negotiation: true    # Memory surfaces in prompts
    prompt_rewriting:
      enabled: true
      strategy: llm                  # LLM-based synthesis (vs 'template')
    dialogue:
      enabled: true
      max_rounds: 2
      convergence_threshold: 0.7
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-recognition.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # ===========================================================================
  # DIVERGENT SUPEREGO CELLS (22-27)
  # ===========================================================================
  # These cells test whether genuinely divergent internal agents produce the
  # behavioral modulation predicted by the Drama Machine framework.
  #
  # The convergent superego (cells 3,4,7,8) shares the Ego's goal (good pedagogy)
  # and acts as quality control — producing d=0.05 modulation.
  #
  # Divergent superegos have CONFLICTING objectives:
  #   - Suspicious: Challenges authenticity of engagement (orthogonal to correctness)
  #   - Adversary: Argues for the opposite pedagogical method (methodological tension)
  #   - Advocate: Represents the learner's experience (experiential vs. expert view)
  #
  # Design: 3 superego types × 2 recognition levels = 6 cells
  # All use unified learner (Factor C held constant) to isolate superego effect.
  # Models: nemotron (ego) + kimi-k2.5 (superego), matching factorial conditions.
  #
  # Key parameter changes vs convergent (max_rounds=2, threshold=0.8):
  #   - max_rounds: 3 (more room for genuine negotiation)
  #   - convergence_threshold: 0.65/0.60 (lower bar for adversarial agreement)
  #
  # Comparisons:
  #   Cell 3  (M=76.6) vs Cells 22,24,26 → Does divergence increase modulation?
  #   Cell 7  (M=92.3) vs Cells 23,25,27 → Does divergence interact with recognition?

  # Cell 22: Base × Suspicious Superego × Unified Learner
  cell_22_base_suspicious_unified:
    description: "Divergent cell 22: base ego + suspicious superego, unified learner"
    factors:
      prompt_type: divergent_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 23: Recognition × Suspicious Superego × Unified Learner
  cell_23_recog_suspicious_unified:
    description: "Divergent cell 23: recognition ego + suspicious superego, unified learner"
    factors:
      prompt_type: divergent_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 24: Base × Adversary Superego × Unified Learner
  cell_24_base_adversary_unified:
    description: "Divergent cell 24: base ego + adversary superego, unified learner"
    factors:
      prompt_type: divergent_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 25: Recognition × Adversary Superego × Unified Learner
  cell_25_recog_adversary_unified:
    description: "Divergent cell 25: recognition ego + adversary superego, unified learner"
    factors:
      prompt_type: divergent_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 26: Base × Advocate Superego × Unified Learner
  cell_26_base_advocate_unified:
    description: "Divergent cell 26: base ego + advocate superego, unified learner"
    factors:
      prompt_type: divergent_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 27: Recognition × Advocate Superego × Unified Learner
  cell_27_recog_advocate_unified:
    description: "Divergent cell 27: recognition ego + advocate superego, unified learner"
    factors:
      prompt_type: divergent_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # ===========================================================================
  # DIALECTICAL SYNTHESIS CELLS (28-33)
  # ===========================================================================
  # Same divergent superegos as cells 22-27, but paired with a DIALECTICAL ego
  # that is trained to synthesize (Aufhebung) rather than capitulate.
  #
  # Cells 22-27 = divergent superego + standard ego → capitulation baseline
  # Cells 28-33 = divergent superego + dialectical ego → synthesis test
  #
  # The dialectical ego follows: defend → extract what's valid → integrate.
  # Hypothesis: divergent agents produce BOTH modulation AND quality gains
  # when the Ego treats critique as material for synthesis, not as a veto.
  #
  # Comparisons:
  #   Cells 22-27 vs 28-33 → Does Aufhebung training recover quality?
  #   Cells 28-33 vs 3,7   → Does dialectical divergence beat convergent?
  #   SD(28-33) vs SD(3,7) → Does modulation survive synthesis training?

  # Cell 28: Base Dialectical × Suspicious Superego × Unified Learner
  cell_28_base_dialectical_suspicious_unified:
    description: "Dialectical cell 28: base dialectical ego + suspicious superego, unified learner"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 29: Recognition Dialectical × Suspicious Superego × Unified Learner
  cell_29_recog_dialectical_suspicious_unified:
    description: "Dialectical cell 29: recognition dialectical ego + suspicious superego, unified learner"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 30: Base Dialectical × Adversary Superego × Unified Learner
  cell_30_base_dialectical_adversary_unified:
    description: "Dialectical cell 30: base dialectical ego + adversary superego, unified learner"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 31: Recognition Dialectical × Adversary Superego × Unified Learner
  cell_31_recog_dialectical_adversary_unified:
    description: "Dialectical cell 31: recognition dialectical ego + adversary superego, unified learner"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 32: Base Dialectical × Advocate Superego × Unified Learner
  cell_32_base_dialectical_advocate_unified:
    description: "Dialectical cell 32: base dialectical ego + advocate superego, unified learner"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: false
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # Cell 33: Recognition Dialectical × Advocate Superego × Unified Learner
  cell_33_recog_dialectical_advocate_unified:
    description: "Dialectical cell 33: recognition dialectical ego + advocate superego, unified learner"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000

  # ===========================================================================
  # FULL-FEATURE DIALECTICAL CELLS (34-39)
  # ===========================================================================
  # These cells enable ALL modulation features on top of the dialectical
  # superego architecture:
  #   - Writing Pad (persistent learner model across turns)
  #   - Dialectical Negotiation (memory surfaces in prompts)
  #   - Prompt Rewriting (LLM-synthesized between-turn directives)
  #   - Cross-turn superego memory (prior feedback accumulation)
  #   - Learner trajectory assessment (structured resistance signals)
  #
  # Without these features, the superego operates as a near-deterministic
  # quality filter — it cannot adapt across turns, detect resistance patterns,
  # or help the ego find breakthrough directions.
  #
  # Cells 34-39 test the hypothesis: with full modulation infrastructure,
  # does dialectical superego negotiation produce measurable learning
  # trajectories (vs the flat learnerGrowthIndex observed in cells 28-33)?
  #
  # Design: 2 (base/recog) × 3 (suspicious/adversary/advocate) = 6 cells
  # ===========================================================================

  # Cell 34: Base Dialectical × Suspicious × Full Features
  cell_34_base_dialectical_suspicious_unified_full:
    description: "Full-feature dialectical cell 34: base ego + suspicious superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
      full_modulation: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 35: Recognition Dialectical × Suspicious × Full Features
  cell_35_recog_dialectical_suspicious_unified_full:
    description: "Full-feature dialectical cell 35: recognition ego + suspicious superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
      full_modulation: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 36: Base Dialectical × Adversary × Full Features
  cell_36_base_dialectical_adversary_unified_full:
    description: "Full-feature dialectical cell 36: base ego + adversary superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
      full_modulation: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 37: Recognition Dialectical × Adversary × Full Features
  cell_37_recog_dialectical_adversary_unified_full:
    description: "Full-feature dialectical cell 37: recognition ego + adversary superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
      full_modulation: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 38: Base Dialectical × Advocate × Full Features
  cell_38_base_dialectical_advocate_unified_full:
    description: "Full-feature dialectical cell 38: base ego + advocate superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
      full_modulation: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 39: Recognition Dialectical × Advocate × Full Features
  cell_39_recog_dialectical_advocate_unified_full:
    description: "Full-feature dialectical cell 39: recognition ego + advocate superego + writing pad + prompt rewriting"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
      full_modulation: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: llm
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # ===========================================================================
  # SUPEREGO DISPOSITION REWRITING CELLS (40-45)
  # ===========================================================================
  # Clone of cells 34-39 with superego_disposition_rewriting enabled.
  # The superego's evaluation criteria evolve turn-by-turn based on whether
  # its prior critiques actually improved learner engagement.

  # Cell 40: Base Dialectical × Suspicious × Full + Superego Rewriting
  cell_40_base_dialectical_suspicious_unified_superego:
    description: "Superego disposition cell 40: base ego + suspicious superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 41: Recognition Dialectical × Suspicious × Full + Superego Rewriting
  cell_41_recog_dialectical_suspicious_unified_superego:
    description: "Superego disposition cell 41: recognition ego + suspicious superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_suspicious
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: suspicious
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-suspicious.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 42: Base Dialectical × Adversary × Full + Superego Rewriting
  cell_42_base_dialectical_adversary_unified_superego:
    description: "Superego disposition cell 42: base ego + adversary superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 43: Recognition Dialectical × Adversary × Full + Superego Rewriting
  cell_43_recog_dialectical_adversary_unified_superego:
    description: "Superego disposition cell 43: recognition ego + adversary superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_adversary
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: adversary
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-adversary.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 44: Base Dialectical × Advocate × Full + Superego Rewriting
  cell_44_base_dialectical_advocate_unified_superego:
    description: "Superego disposition cell 44: base ego + advocate superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified
    recognition_mode: false
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.65
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      require_memory_integration: true
      assess_transformative_potential: true

  # Cell 45: Recognition Dialectical × Advocate × Full + Superego Rewriting
  cell_45_recog_dialectical_advocate_unified_superego:
    description: "Superego disposition cell 45: recognition ego + advocate superego + full features + superego rewriting"
    factors:
      prompt_type: dialectical_advocate
      multi_agent_tutor: true
      multi_agent_learner: false
      superego_type: advocate
      full_modulation: true
      superego_rewriting: true
    learner_architecture: unified_recognition
    recognition_mode: true
    memory_enabled: true
    writing_pad_enabled: true
    dialectical_negotiation: true
    prompt_rewriting:
      enabled: true
      strategy: self_reflection
    superego_disposition_rewriting: true
    dialogue:
      enabled: true
      max_rounds: 3
      convergence_threshold: 0.60
    ego:
      provider: openrouter
      model: nemotron
      staging: front
      prompt_file: tutor-ego-recognition-dialectical.md
      hyperparameters:
        temperature: 0.6
        max_tokens: 8000
    superego:
      provider: openrouter
      model: kimi-k2.5
      staging: back
      prompt_file: tutor-superego-advocate.md
      hyperparameters:
        temperature: 0.2
        max_tokens: 8000
    intervention_strategies:
      enforce_mutual_recognition: true
      require_memory_integration: true
      assess_transformative_potential: true
